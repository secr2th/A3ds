html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ArtQuest - ê·¸ë¦¼ ê³µë¶€ ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkFydFF1ZXN0IC0g6re466a8IOqzoeu2gCDqsozsnbTrr7ztlLzsvIDsnbTshZgiLAogICJzaG9ydF9uYW1lIjogIkFydFF1ZXN0IiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmOGZhZmMiLAogICJ0aGVtZV9jb2xvciI6ICIjNjM2NmYxIiwKICAib3JpZW50YXRpb24iOiAicG9ydHJhaXQiLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QnaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJyUyMHZpZXdCb3glM0QnMCUyMDAlMjA1MTIlMjA1MTInJTNFJTNDcmVjdCUyMHdpZHRoJTNEJzUxMiclMjBoZWlnaHQlM0QnNTEyJyUyMGZpbGwlM0QnJTIzNjM2NmYxJyUyMHJ4JTNEJzEwMCclMkYlM0UlM0N0ZXh0JTIweCUzRCc1MCUyNSclMjB5JTNEJzUwJTI1JyUyMGRvbWluYW50LWJhc2VsaW5lJTNEJ21pZGRsZSclMjB0ZXh0LWFuY2hvciUzRCdtaWRkbGUnJTIwZm9udC1zaXplJTNEJzI1NiclM0UlRjAlOUYlOEUlQTglM0MlMkZ0ZXh0JTNFJTNDJTJGc3ZnJTNFIiwKICAgICAgInNpemVzIjogIjUxMng1MTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIiwKICAgICAgInB1cnBvc2UiOiAiYW55IG1hc2thYmxlIgogICAgfQogIF0KfQ==">

    <style>
/* ============================================
   CSS ë³€ìˆ˜ ë° í…Œë§ˆ ì‹œìŠ¤í…œ
   - ì „ì—­ ìƒ‰ìƒ, í°íŠ¸, ê°„ê²© ë“± ì •ì˜
   - ë‹¤í¬ëª¨ë“œ ë° ì»¤ìŠ¤í…€ í…Œë§ˆ ì§€ì›
   ============================================ */
:root {
    /* ê¸°ë³¸ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ */
    --primary: #6366f1;
    --primary-light: #818cf8;
    --primary-dark: #4f46e5;
    --secondary: #f472b6;
    --accent: #fbbf24;

    /* ì‹œë©˜í‹± ìƒ‰ìƒ */
    --success: #10b981;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #3b82f6;

    /* ë°°ê²½ ë° í‘œë©´ */
    --bg-primary: #f8fafc;
    --bg-secondary: #ffffff;
    --bg-tertiary: #f1f5f9;
    --surface: #ffffff;
    --surface-hover: #f8fafc;

    /* í…ìŠ¤íŠ¸ */
    --text-primary: #0f172a;
    --text-secondary: #475569;
    --text-tertiary: #94a3b8;
    --text-inverse: #ffffff;

    /* í…Œë‘ë¦¬ */
    --border-light: #e2e8f0;
    --border-medium: #cbd5e1;

    /* ê·¸ë¦¼ì */
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);

    /* ê°„ê²© */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    --space-2xl: 48px;

    /* ë°˜ê²½ */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    --radius-full: 9999px;

    /* í°íŠ¸ */
    --font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    --font-size-xs: 12px;
    --font-size-sm: 14px;
    --font-size-md: 16px;
    --font-size-lg: 18px;
    --font-size-xl: 20px;
    --font-size-2xl: 24px;
    --font-size-3xl: 30px;

    /* íŠ¸ëœì§€ì…˜ */
    --transition-fast: 150ms ease;
    --transition-normal: 250ms ease;
    --transition-slow: 350ms ease;

    /* ë„¤ë¹„ê²Œì´ì…˜ */
    --nav-height: 60px;
    --bottom-nav-height: 70px;
}

/* ë‹¤í¬ëª¨ë“œ í…Œë§ˆ */
[data-theme="dark"] {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;
    --surface: #1e293b;
    --surface-hover: #334155;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --text-tertiary: #64748b;
    --border-light: #334155;
    --border-medium: #475569;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.4);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.4);
}

/* ============================================
   ê¸°ë³¸ ë¦¬ì…‹ ë° ì „ì—­ ìŠ¤íƒ€ì¼
   ============================================ */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
}

::-webkit-scrollbar-thumb {
    background: var(--border-medium);
    border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
}

/* ============================================
   ì•± ë ˆì´ì•„ì›ƒ
   ============================================ */
.app-container {
    max-width: 480px;
    margin: 0 auto;
    min-height: 100vh;
    background: var(--bg-primary);
    position: relative;
    padding-bottom: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom));
}

/* í—¤ë” */
.app-header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-light);
    padding: var(--space-md);
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: var(--nav-height);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.app-logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-weight: 700;
    font-size: var(--font-size-lg);
    color: var(--primary);
}

.header-actions {
    display: flex;
    gap: var(--space-sm);
}

/* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
.main-content {
    padding: var(--space-md);
    padding-top: var(--space-lg);
}

/* í˜ì´ì§€ ì„¹ì…˜ */
.page-section {
    display: none;
    animation: fadeIn var(--transition-normal);
}

.page-section.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ============================================
   í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
   ============================================ */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 480px;
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-light);
    display: flex;
    justify-content: space-around;
    padding: var(--space-sm) 0;
    padding-bottom: calc(var(--space-sm) + env(safe-area-inset-bottom));
    z-index: 100;
    box-shadow: var(--shadow-lg);
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
    color: var(--text-tertiary);
    font-size: var(--font-size-xs);
    min-width: 60px;
    background: none;
    border: none;
}

.nav-item:hover {
    color: var(--text-secondary);
}

.nav-item.active {
    color: var(--primary);
}

.nav-item .nav-icon {
    font-size: 24px;
    transition: transform var(--transition-fast);
}

.nav-item.active .nav-icon {
    transform: scale(1.1);
}

/* ============================================
   ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
   ============================================ */
.card {
    background: var(--surface);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-md);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
    transition: all var(--transition-fast);
}

.card:hover {
    box-shadow: var(--shadow-md);
}

.card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-md);
}

.card-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.card-subtitle {
    font-size: var(--font-size-sm);
    color: var(--text-tertiary);
    margin-top: var(--space-xs);
}

/* ============================================
   ë²„íŠ¼ ìŠ¤íƒ€ì¼
   ============================================ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-lg);
    border-radius: var(--radius-md);
    font-size: var(--font-size-md);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
    border: none;
    outline: none;
    white-space: nowrap;
}

.btn-primary {
    background: var(--primary);
    color: white;
}

.btn-primary:hover {
    background: var(--primary-dark);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.btn-primary:active {
    transform: translateY(0);
}

.btn-secondary {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.btn-secondary:hover {
    background: var(--border-light);
}

.btn-ghost {
    background: transparent;
    color: var(--text-secondary);
}

.btn-ghost:hover {
    background: var(--bg-tertiary);
}

.btn-icon {
    width: 40px;
    height: 40px;
    padding: 0;
    border-radius: var(--radius-full);
}

.btn-sm {
    padding: var(--space-xs) var(--space-md);
    font-size: var(--font-size-sm);
}

.btn-lg {
    padding: var(--space-md) var(--space-xl);
    font-size: var(--font-size-lg);
}

.btn-block {
    width: 100%;
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
}

/* ============================================
   ì…ë ¥ í•„ë“œ
   ============================================ */
.input-group {
    margin-bottom: var(--space-md);
}

.input-label {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: var(--space-xs);
}

.input-field {
    width: 100%;
    padding: var(--space-md);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    font-size: var(--font-size-md);
    background: var(--surface);
    color: var(--text-primary);
    transition: all var(--transition-fast);
}

.input-field:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.input-field::placeholder {
    color: var(--text-tertiary);
}

textarea.input-field {
    min-height: 100px;
    resize: vertical;
}

/* ============================================
   ì²´í¬ë°•ìŠ¤ ë° ë¼ë””ì˜¤
   ============================================ */
.checkbox-group, .radio-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.checkbox-item, .radio-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.checkbox-item:hover, .radio-item:hover {
    background: var(--surface-hover);
    border-color: var(--primary-light);
}

.checkbox-item.checked, .radio-item.selected {
    background: rgba(99, 102, 241, 0.1);
    border-color: var(--primary);
}

.custom-checkbox, .custom-radio {
    width: 22px;
    height: 22px;
    border: 2px solid var(--border-medium);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
    flex-shrink: 0;
}

.custom-radio {
    border-radius: var(--radius-full);
}

.checkbox-item.checked .custom-checkbox,
.radio-item.selected .custom-radio {
    background: var(--primary);
    border-color: var(--primary);
}

.custom-checkbox::after {
    content: 'âœ“';
    color: white;
    font-size: 14px;
    opacity: 0;
    transform: scale(0);
    transition: all var(--transition-fast);
}

.checkbox-item.checked .custom-checkbox::after {
    opacity: 1;
    transform: scale(1);
}

.custom-radio::after {
    content: '';
    width: 10px;
    height: 10px;
    background: white;
    border-radius: var(--radius-full);
    opacity: 0;
    transform: scale(0);
    transition: all var(--transition-fast);
}

.radio-item.selected .custom-radio::after {
    opacity: 1;
    transform: scale(1);
}

/* ============================================
   ì§„í–‰ë„ ë°”
   ============================================ */
.progress-container {
    margin: var(--space-md) 0;
}

.progress-bar {
    height: 8px;
    background: var(--bg-tertiary);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-full);
    transition: width var(--transition-slow);
}

.progress-label {
    display: flex;
    justify-content: space-between;
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    margin-top: var(--space-xs);
}

/* í° ì§„í–‰ë„ ë°” */
.progress-lg .progress-bar {
    height: 12px;
}

/* ============================================
   ë°°ì§€ ë° íƒœê·¸
   ============================================ */
.badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: 2px var(--space-sm);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: 500;
}

.badge-primary {
    background: rgba(99, 102, 241, 0.1);
    color: var(--primary);
}

.badge-success {
    background: rgba(16, 185, 129, 0.1);
    color: var(--success);
}

.badge-warning {
    background: rgba(245, 158, 11, 0.1);
    color: var(--warning);
}

.badge-error {
    background: rgba(239, 68, 68, 0.1);
    color: var(--error);
}

.tag {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--bg-tertiary);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

/* ============================================
   ìŠ¤íƒ¯ ì¹´ë“œ
   ============================================ */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.stat-card {
    background: var(--surface);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    text-align: center;
    border: 1px solid var(--border-light);
}

.stat-icon {
    font-size: 28px;
    margin-bottom: var(--space-xs);
}

.stat-value {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--text-primary);
}

.stat-label {
    font-size: var(--font-size-sm);
    color: var(--text-tertiary);
}

/* ============================================
   ê³¼ì œ ë¦¬ìŠ¤íŠ¸
   ============================================ */
.task-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.task-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
    cursor: pointer;
}

.task-item:hover {
    background: var(--surface-hover);
    transform: translateX(4px);
}

.task-item.completed {
    opacity: 0.7;
    background: var(--bg-tertiary);
}

.task-item.completed .task-title {
    text-decoration: line-through;
    color: var(--text-tertiary);
}

.task-checkbox {
    width: 24px;
    height: 24px;
    border: 2px solid var(--border-medium);
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all var(--transition-fast);
    margin-top: 2px;
}

.task-item.completed .task-checkbox {
    background: var(--success);
    border-color: var(--success);
}

.task-item.completed .task-checkbox::after {
    content: 'âœ“';
    color: white;
    font-size: 14px;
}

.task-content {
    flex: 1;
    min-width: 0;
}

.task-title {
    font-weight: 500;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.task-meta {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
}

.task-points {
    color: var(--accent);
    font-weight: 600;
    font-size: var(--font-size-sm);
}

/* ============================================
   íƒ€ì´ë¨¸ ìŠ¤íƒ€ì¼
   ============================================ */
.timer-container {
    text-align: center;
    padding: var(--space-xl);
}

.timer-display {
    font-size: 72px;
    font-weight: 700;
    color: var(--text-primary);
    font-variant-numeric: tabular-nums;
    margin-bottom: var(--space-lg);
}

.timer-label {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    margin-bottom: var(--space-md);
}

.timer-progress {
    width: 200px;
    height: 200px;
    margin: 0 auto var(--space-xl);
    position: relative;
}

.timer-circle {
    transform: rotate(-90deg);
}

.timer-circle-bg {
    fill: none;
    stroke: var(--bg-tertiary);
    stroke-width: 8;
}

.timer-circle-progress {
    fill: none;
    stroke: var(--primary);
    stroke-width: 8;
    stroke-linecap: round;
    transition: stroke-dashoffset 1s linear;
}

.timer-controls {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
}

.timer-preset-buttons {
    display: flex;
    justify-content: center;
    gap: var(--space-sm);
    margin-top: var(--space-lg);
    flex-wrap: wrap;
}

/* ============================================
   ê°¤ëŸ¬ë¦¬ ìŠ¤íƒ€ì¼
   ============================================ */
.gallery-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.view-toggle {
    display: flex;
    background: var(--bg-tertiary);
    border-radius: var(--radius-md);
    padding: 2px;
}

.view-toggle-btn {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    background: none;
    border: none;
    cursor: pointer;
    color: var(--text-tertiary);
    transition: all var(--transition-fast);
}

.view-toggle-btn.active {
    background: var(--surface);
    color: var(--text-primary);
    box-shadow: var(--shadow-sm);
}

/* ê·¸ë¦¬ë“œ ë·° */
.gallery-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-sm);
}

.gallery-item {
    aspect-ratio: 1;
    border-radius: var(--radius-md);
    overflow: hidden;
    cursor: pointer;
    position: relative;
    background: var(--bg-tertiary);
    transition: transform var(--transition-fast);
}

.gallery-item:hover {
    transform: scale(1.02);
}

.gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.gallery-item-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: var(--space-sm);
    background: linear-gradient(transparent, rgba(0,0,0,0.7));
    color: white;
    font-size: var(--font-size-xs);
    opacity: 0;
    transition: opacity var(--transition-fast);
}

.gallery-item:hover .gallery-item-overlay {
    opacity: 1;
}

/* ë¦¬ìŠ¤íŠ¸ ë·° */
.gallery-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.gallery-list-item {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-light);
}

.gallery-list-item-img {
    width: 80px;
    height: 80px;
    border-radius: var(--radius-sm);
    object-fit: cover;
    flex-shrink: 0;
}

.gallery-list-item-info {
    flex: 1;
    min-width: 0;
}

.gallery-list-item-title {
    font-weight: 500;
    margin-bottom: var(--space-xs);
}

.gallery-list-item-date {
    font-size: var(--font-size-sm);
    color: var(--text-tertiary);
}

/* ìº˜ë¦°ë” ë·° */
.calendar-container {
    background: var(--surface);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    border: 1px solid var(--border-light);
}

.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.calendar-nav {
    display: flex;
    gap: var(--space-sm);
}

.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
}

.calendar-day-header {
    text-align: center;
    font-size: var(--font-size-xs);
    color: var(--text-tertiary);
    padding: var(--space-xs);
}

.calendar-day {
    aspect-ratio: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-size: var(--font-size-sm);
    position: relative;
}

.calendar-day:hover {
    background: var(--bg-tertiary);
}

.calendar-day.today {
    background: var(--primary);
    color: white;
}

.calendar-day.has-entry::after {
    content: '';
    width: 6px;
    height: 6px;
    background: var(--accent);
    border-radius: var(--radius-full);
    position: absolute;
    bottom: 4px;
}

.calendar-day.other-month {
    color: var(--text-tertiary);
}

/* ============================================
   ëª¨ë‹¬ ìŠ¤íƒ€ì¼
   ============================================ */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: flex-end;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-normal);
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background: var(--surface);
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
    padding: var(--space-lg);
    width: 100%;
    max-width: 480px;
    max-height: 90vh;
    overflow-y: auto;
    transform: translateY(100%);
    transition: transform var(--transition-normal);
}

.modal-overlay.active .modal-content {
    transform: translateY(0);
}

.modal-handle {
    width: 40px;
    height: 4px;
    background: var(--border-medium);
    border-radius: var(--radius-full);
    margin: 0 auto var(--space-lg);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
}

.modal-title {
    font-size: var(--font-size-xl);
    font-weight: 600;
}

/* ì „ì²´ í™”ë©´ ëª¨ë‹¬ */
.modal-fullscreen .modal-content {
    border-radius: 0;
    max-height: 100vh;
    height: 100vh;
}

/* ============================================
   í† ìŠ¤íŠ¸ ì•Œë¦¼
   ============================================ */
.toast-container {
    position: fixed;
    top: var(--space-lg);
    left: 50%;
    transform: translateX(-50%);
    z-index: 1100;
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    width: calc(100% - var(--space-lg) * 2);
    max-width: 400px;
    pointer-events: none;
}

.toast {
    background: var(--surface);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    box-shadow: var(--shadow-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    animation: slideIn var(--transition-normal);
    pointer-events: auto;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.toast-success {
    border-left: 4px solid var(--success);
}

.toast-error {
    border-left: 4px solid var(--error);
}

.toast-warning {
    border-left: 4px solid var(--warning);
}

.toast-info {
    border-left: 4px solid var(--info);
}

/* ============================================
   ì„¤ì • í˜ì´ì§€
   ============================================ */
.settings-group {
    margin-bottom: var(--space-xl);
}

.settings-group-title {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: var(--space-sm);
    padding: 0 var(--space-sm);
}

.settings-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md);
    background: var(--surface);
    border: 1px solid var(--border-light);
    margin-bottom: -1px;
    cursor: pointer;
    transition: background var(--transition-fast);
}

.settings-item:first-of-type {
    border-radius: var(--radius-md) var(--radius-md) 0 0;
}

.settings-item:last-of-type {
    border-radius: 0 0 var(--radius-md) var(--radius-md);
    margin-bottom: 0;
}

.settings-item:only-of-type {
    border-radius: var(--radius-md);
}

.settings-item:hover {
    background: var(--surface-hover);
}

.settings-item-left {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.settings-item-icon {
    width: 36px;
    height: 36px;
    background: var(--bg-tertiary);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
}

.settings-item-content {
    display: flex;
    flex-direction: column;
}

.settings-item-label {
    font-weight: 500;
}

.settings-item-desc {
    font-size: var(--font-size-sm);
    color: var(--text-tertiary);
}

.settings-item-right {
    color: var(--text-tertiary);
}

/* í† ê¸€ ìŠ¤ìœ„ì¹˜ */
.toggle-switch {
    width: 48px;
    height: 28px;
    background: var(--border-medium);
    border-radius: var(--radius-full);
    position: relative;
    cursor: pointer;
    transition: background var(--transition-fast);
}

.toggle-switch.active {
    background: var(--primary);
}

.toggle-switch::after {
    content: '';
    width: 22px;
    height: 22px;
    background: white;
    border-radius: var(--radius-full);
    position: absolute;
    top: 3px;
    left: 3px;
    transition: transform var(--transition-fast);
    box-shadow: var(--shadow-sm);
}

.toggle-switch.active::after {
    transform: translateX(20px);
}

/* ìƒ‰ìƒ ì„ íƒê¸° */
.color-picker-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: var(--space-sm);
    margin-top: var(--space-md);
}

.color-option {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-full);
    cursor: pointer;
    transition: transform var(--transition-fast);
    border: 3px solid transparent;
}

.color-option:hover {
    transform: scale(1.1);
}

.color-option.selected {
    border-color: var(--text-primary);
}

/* ============================================
   ì˜¨ë³´ë”© ìŠ¤íƒ€ì¼
   ============================================ */
.onboarding-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    padding: var(--space-xl);
}

.onboarding-progress {
    margin-bottom: var(--space-xl);
}

.onboarding-step-indicator {
    display: flex;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.step-dot {
    width: 8px;
    height: 8px;
    border-radius: var(--radius-full);
    background: var(--border-medium);
    transition: all var(--transition-fast);
}

.step-dot.active {
    width: 24px;
    background: var(--primary);
}

.step-dot.completed {
    background: var(--success);
}

.onboarding-content {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.onboarding-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    margin-bottom: var(--space-sm);
}

.onboarding-desc {
    color: var(--text-secondary);
    margin-bottom: var(--space-xl);
}

.onboarding-actions {
    margin-top: auto;
    display: flex;
    gap: var(--space-md);
}

/* ì‹¤ë ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸ */
.skill-category {
    margin-bottom: var(--space-xl);
}

.skill-category-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.skill-category-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}

.skill-category-name {
    font-weight: 600;
    font-size: var(--font-size-lg);
}

.skill-levels {
    display: flex;
    gap: var(--space-sm);
}

.skill-level-btn {
    flex: 1;
    padding: var(--space-md);
    background: var(--surface);
    border: 2px solid var(--border-light);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
    text-align: center;
}

.skill-level-btn:hover {
    border-color: var(--primary-light);
}

.skill-level-btn.selected {
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
}

.skill-level-label {
    font-weight: 500;
    display: block;
    margin-bottom: var(--space-xs);
}

.skill-level-desc {
    font-size: var(--font-size-xs);
    color: var(--text-tertiary);
}

/* ============================================
   ì°¨íŠ¸ ë° ë¶„ì„
   ============================================ */
.radar-chart-container {
    aspect-ratio: 1;
    max-width: 300px;
    margin: 0 auto;
}

.analysis-item {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--surface);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-sm);
    border: 1px solid var(--border-light);
}

.analysis-icon {
    width: 44px;
    height: 44px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    flex-shrink: 0;
}

.analysis-icon.strength {
    background: rgba(16, 185, 129, 0.1);
}

.analysis-icon.weakness {
    background: rgba(245, 158, 11, 0.1);
}

.analysis-content h4 {
    font-weight: 500;
    margin-bottom: var(--space-xs);
}

.analysis-content p {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

/* ============================================
   ë¦¬ì†ŒìŠ¤ ì¹´ë“œ
   ============================================ */
.resource-card {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--surface);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.resource-card:hover {
    border-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.resource-thumbnail {
    width: 80px;
    height: 60px;
    background: var(--bg-tertiary);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 24px;
}

.resource-info {
    flex: 1;
    min-width: 0;
}

.resource-title {
    font-weight: 500;
    margin-bottom: var(--space-xs);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.resource-meta {
    font-size: var(--font-size-sm);
    color: var(--text-tertiary);
}

/* ============================================
   ì£¼ê°„ ë¦¬í¬íŠ¸
   ============================================ */
.report-summary {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

.report-metric {
    background: var(--surface);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    text-align: center;
    border: 1px solid var(--border-light);
}

.report-metric-value {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    color: var(--primary);
}

.report-metric-label {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    margin-top: var(--space-xs);
}

.report-chart {
    background: var(--surface);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    border: 1px solid var(--border-light);
}

.weekly-chart {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    height: 120px;
    padding-top: var(--space-md);
}

.chart-bar-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-xs);
    flex: 1;
}

.chart-bar {
    width: 24px;
    background: linear-gradient(to top, var(--primary), var(--primary-light));
    border-radius: var(--radius-sm) var(--radius-sm) 0 0;
    transition: height var(--transition-slow);
}

.chart-bar-label {
    font-size: var(--font-size-xs);
    color: var(--text-tertiary);
}

/* ============================================
   ë¡œë”© ìƒíƒœ
   ============================================ */
.loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--border-light);
    border-top-color: var(--primary);
    border-radius: var(--radius-full);
    animation: spin 1s linear infinite;
    margin: var(--space-xl) auto;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.skeleton {
    background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--border-light) 50%, var(--bg-tertiary) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    border-radius: var(--radius-sm);
}

@keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.skeleton-text {
    height: 16px;
    margin-bottom: var(--space-sm);
}

.skeleton-title {
    height: 24px;
    width: 60%;
    margin-bottom: var(--space-md);
}

.skeleton-card {
    height: 100px;
    margin-bottom: var(--space-md);
}

/* ============================================
   ë¹ˆ ìƒíƒœ
   ============================================ */
.empty-state {
    text-align: center;
    padding: var(--space-2xl);
    color: var(--text-tertiary);
}

.empty-state-icon {
    font-size: 64px;
    margin-bottom: var(--space-md);
    opacity: 0.5;
}

.empty-state-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: var(--space-sm);
}

.empty-state-desc {
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-lg);
}

/* ============================================
   íƒ­ ë„¤ë¹„ê²Œì´ì…˜
   ============================================ */
.tabs {
    display: flex;
    background: var(--bg-tertiary);
    border-radius: var(--radius-md);
    padding: 4px;
    margin-bottom: var(--space-lg);
}

.tab-btn {
    flex: 1;
    padding: var(--space-sm) var(--space-md);
    background: none;
    border: none;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.tab-btn.active {
    background: var(--surface);
    color: var(--text-primary);
    box-shadow: var(--shadow-sm);
}

/* ============================================
   í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼
   ============================================ */
.fab {
    position: fixed;
    bottom: calc(var(--bottom-nav-height) + var(--space-lg) + env(safe-area-inset-bottom));
    right: var(--space-lg);
    width: 56px;
    height: 56px;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: var(--radius-full);
    font-size: 24px;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    transition: all var(--transition-fast);
    z-index: 50;
}

.fab:hover {
    transform: scale(1.1);
    box-shadow: var(--shadow-xl);
}

.fab:active {
    transform: scale(0.95);
}

/* ============================================
   ë°˜ì‘í˜• ìŠ¤íƒ€ì¼
   ============================================ */
@media (min-width: 768px) {
    .app-container {
        max-width: 600px;
        border-left: 1px solid var(--border-light);
        border-right: 1px solid var(--border-light);
    }

    .stats-grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .gallery-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 360px) {
    :root {
        --font-size-md: 14px;
        --font-size-lg: 16px;
        --font-size-xl: 18px;
        --font-size-2xl: 20px;
    }

    .stats-grid {
        grid-template-columns: 1fr;
    }
}

/* ============================================
   ì ‘ê·¼ì„± ê°œì„ 
   ============================================ */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼ */
:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

/* ============================================
   í°íŠ¸ ì„ë² ë”© ì˜ì—­
   ============================================ */
.custom-font-style {
    /* ì‚¬ìš©ì ì •ì˜ í°íŠ¸ê°€ ì—¬ê¸°ì— ì¶”ê°€ë¨ */
}

/* ============================================
   AI ì±„íŒ… ìŠ¤íƒ€ì¼
   ============================================ */
.chat-container {
    display: flex;
    flex-direction: column;
    height: calc(100vh - var(--nav-height) - var(--bottom-nav-height) - env(safe-area-inset-bottom));
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.chat-message {
    max-width: 85%;
    padding: var(--space-md);
    border-radius: var(--radius-lg);
    animation: messageIn var(--transition-normal);
}

@keyframes messageIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.chat-message.user {
    align-self: flex-end;
    background: var(--primary);
    color: white;
    border-bottom-right-radius: var(--radius-sm);
}

.chat-message.assistant {
    align-self: flex-start;
    background: var(--surface);
    border: 1px solid var(--border-light);
    border-bottom-left-radius: var(--radius-sm);
}

.chat-input-container {
    padding: var(--space-md);
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-light);
    display: flex;
    gap: var(--space-sm);
}

.chat-input {
    flex: 1;
    padding: var(--space-md);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-full);
    font-size: var(--font-size-md);
    background: var(--surface);
    color: var(--text-primary);
}

.chat-input:focus {
    outline: none;
    border-color: var(--primary);
}

.chat-send-btn {
    width: 44px;
    height: 44px;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: var(--radius-full);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
}

.chat-send-btn:hover {
    background: var(--primary-dark);
}

.chat-send-btn:disabled {
    background: var(--border-medium);
    cursor: not-allowed;
}

/* íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° */
.typing-indicator {
    display: flex;
    gap: 4px;
    padding: var(--space-md);
    background: var(--surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-light);
    width: fit-content;
}

.typing-dot {
    width: 8px;
    height: 8px;
    background: var(--text-tertiary);
    border-radius: var(--radius-full);
    animation: typingBounce 1.4s infinite;
}

.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes typingBounce {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-8px); }
}
    </style>
</head>
<body>
    <!-- ============================================
         ì•± ì»¨í…Œì´ë„ˆ
         - ë©”ì¸ ì•± ë˜í¼
         ============================================ -->
    <div class="app-container" id="app">
        <!-- í† ìŠ¤íŠ¸ ì•Œë¦¼ ì»¨í…Œì´ë„ˆ -->
        <div class="toast-container" id="toastContainer"></div>

        <!-- ì•± í—¤ë” -->
        <header class="app-header">
            <div class="app-logo">
                <span>ğŸ¨</span>
                <span>ArtQuest</span>
            </div>
            <div class="header-actions">
                <button class="btn btn-icon btn-ghost" id="notificationBtn" title="ì•Œë¦¼">
                    ğŸ””
                </button>
                <button class="btn btn-icon btn-ghost" id="settingsHeaderBtn" title="ì„¤ì •">
                    âš™ï¸
                </button>
            </div>
        </header>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="main-content" id="mainContent">
            <!-- ============================================
                 ì˜¨ë³´ë”© ì„¹ì…˜
                 - API í‚¤ ì„¤ì • ë° ì‹¤ë ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸
                 ============================================ -->
            <section class="page-section" id="onboardingSection">
                <div class="onboarding-container">
                    <!-- ì§„í–‰ ìƒíƒœ í‘œì‹œ -->
                    <div class="onboarding-progress">
                        <div class="onboarding-step-indicator" id="stepIndicator">
                            <div class="step-dot active"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="onboardingProgress" style="width: 33%"></div>
                        </div>
                    </div>

                    <!-- ì˜¨ë³´ë”© ë‹¨ê³„ë³„ ì»¨í…ì¸  -->
                    <div class="onboarding-content" id="onboardingContent">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>
                </div>
            </section>

            <!-- ============================================
                 ëŒ€ì‹œë³´ë“œ ì„¹ì…˜
                 - ìŠ¤íƒ¯, ì˜¤ëŠ˜ì˜ ê³¼ì œ, ì§„í–‰ë„
                 ============================================ -->
            <section class="page-section" id="dashboardSection">
                <!-- í™˜ì˜ ë©”ì‹œì§€ -->
                <div class="card" id="welcomeCard">
                    <div class="card-header">
                        <div>
                            <h2 class="card-title">
                                <span id="greetingEmoji">ğŸ‘‹</span>
                                <span id="greetingText">ì•ˆë…•í•˜ì„¸ìš”!</span>
                            </h2>
                            <p class="card-subtitle" id="dateDisplay"></p>
                        </div>
                        <div class="badge badge-primary" id="streakBadge">
                            ğŸ”¥ 0ì¼ ì—°ì†
                        </div>
                    </div>
                </div>

                <!-- ìŠ¤íƒ¯ ê·¸ë¦¬ë“œ -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">â­</div>
                        <div class="stat-value" id="totalPoints">0</div>
                        <div class="stat-label">ì´ í¬ì¸íŠ¸</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-value" id="completedTasks">0</div>
                        <div class="stat-label">ì™„ë£Œí•œ ê³¼ì œ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“š</div>
                        <div class="stat-value" id="studyDays">0</div>
                        <div class="stat-label">í•™ìŠµ ì¼ìˆ˜</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ¯</div>
                        <div class="stat-value" id="currentLevel">Lv.1</div>
                        <div class="stat-label">í˜„ì¬ ë ˆë²¨</div>
                    </div>
                </div>

                <!-- ì˜¤ëŠ˜ì˜ ì§„í–‰ë„ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“Š ì˜¤ëŠ˜ì˜ ì§„í–‰ë„</h3>
                        <span class="badge badge-success" id="todayProgressBadge">0%</span>
                    </div>
                    <div class="progress-container progress-lg">
                        <div class="progress-bar">
                            <div class="progress-fill" id="todayProgressBar" style="width: 0%"></div>
                        </div>
                        <div class="progress-label">
                            <span id="completedCount">0</span>
                            <span id="totalCount">/ 0 ê³¼ì œ</span>
                        </div>
                    </div>
                </div>

                <!-- ì˜¤ëŠ˜ì˜ ê³¼ì œ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“ ì˜¤ëŠ˜ì˜ ê³¼ì œ</h3>
                        <button class="btn btn-sm btn-ghost" id="refreshTasksBtn">
                            ğŸ”„ ìƒˆë¡œê³ ì¹¨
                        </button>
                    </div>
                    <div class="task-list" id="todayTaskList">
                        <div class="empty-state">
                            <div class="empty-state-icon">ğŸ“‹</div>
                            <div class="empty-state-title">ê³¼ì œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                            <div class="empty-state-desc">AIê°€ ë§ì¶¤ ê³¼ì œë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.</div>
                            <div class="loading-spinner"></div>
                        </div>
                    </div>
                </div>

                <!-- í•™ìŠµ íŒ -->
                <div class="card" id="tipCard">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ’¡ ì˜¤ëŠ˜ì˜ íŒ</h3>
                    </div>
                    <p id="dailyTip" class="card-subtitle">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
                </div>
            </section>

            <!-- ============================================
                 íƒ€ì´ë¨¸ ì„¹ì…˜
                 - í¬ëª¨ë„ë¡œ íƒ€ì´ë¨¸
                 ============================================ -->
            <section class="page-section" id="timerSection">
                <div class="card">
                    <div class="timer-container">
                        <div class="timer-label" id="timerLabel">ì§‘ì¤‘ ì‹œê°„</div>

                        <div class="timer-progress">
                            <svg class="timer-circle" viewBox="0 0 200 200">
                                <circle class="timer-circle-bg" cx="100" cy="100" r="90"/>
                                <circle class="timer-circle-progress" id="timerCircle" cx="100" cy="100" r="90"
                                    stroke-dasharray="565.48"
                                    stroke-dashoffset="0"/>
                            </svg>
                            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                                <div class="timer-display" id="timerDisplay">25:00</div>
                            </div>
                        </div>

                        <div class="timer-controls">
                            <button class="btn btn-secondary btn-icon" id="timerResetBtn">
                                â†º
                            </button>
                            <button class="btn btn-primary btn-lg" id="timerStartBtn">
                                â–¶ï¸ ì‹œì‘
                            </button>
                            <button class="btn btn-secondary btn-icon" id="timerSkipBtn">
                                â­ï¸
                            </button>
                        </div>

                        <div class="timer-preset-buttons">
                            <button class="btn btn-sm btn-secondary timer-preset" data-minutes="15">15ë¶„</button>
                            <button class="btn btn-sm btn-primary timer-preset" data-minutes="25">25ë¶„</button>
                            <button class="btn btn-sm btn-secondary timer-preset" data-minutes="45">45ë¶„</button>
                            <button class="btn btn-sm btn-secondary timer-preset" data-minutes="60">60ë¶„</button>
                        </div>
                    </div>
                </div>

                <!-- íƒ€ì´ë¨¸ ê¸°ë¡ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“ˆ ì˜¤ëŠ˜ì˜ ì§‘ì¤‘ ì‹œê°„</h3>
                    </div>
                    <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr);">
                        <div class="stat-card">
                            <div class="stat-value" id="focusSessions">0</div>
                            <div class="stat-label">ì™„ë£Œ ì„¸ì…˜</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="totalFocusTime">0ë¶„</div>
                            <div class="stat-label">ì´ ì§‘ì¤‘ ì‹œê°„</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ============================================
                 ë¶„ì„ ì„¹ì…˜
                 - ê°•ì /ì•½ì , AI ë¶„ì„
                 ============================================ -->
            <section class="page-section" id="analysisSection">
                <!-- ì‹¤ë ¥ ë ˆì´ë” ì°¨íŠ¸ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“Š ì‹¤ë ¥ ë¶„ì„</h3>
                        <button class="btn btn-sm btn-ghost" id="editSkillsBtn">
                            âœï¸ ìˆ˜ì •
                        </button>
                    </div>
                    <div class="radar-chart-container">
                        <canvas id="skillRadarChart"></canvas>
                    </div>
                </div>

                <!-- ê°•ì  ë¶„ì„ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ’ª ê°•ì </h3>
                    </div>
                    <div id="strengthsList">
                        <div class="skeleton skeleton-card"></div>
                    </div>
                </div>

                <!-- ì•½ì  ë¶„ì„ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ¯ ê°œì„  ì˜ì—­</h3>
                    </div>
                    <div id="weaknessesList">
                        <div class="skeleton skeleton-card"></div>
                    </div>
                </div>

                <!-- AI ë§ì¶¤ ì¡°ì–¸ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ¤– AI ë§ì¶¤ ì¡°ì–¸</h3>
                        <button class="btn btn-sm btn-ghost" id="refreshAdviceBtn">
                            ğŸ”„
                        </button>
                    </div>
                    <div id="aiAdvice" class="card-subtitle">
                        AIê°€ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...
                    </div>
                </div>
            </section>

            <!-- ============================================
                 ë¦¬ì†ŒìŠ¤ ì„¹ì…˜
                 - í•™ìŠµ ìë£Œ ì¶”ì²œ
                 ============================================ -->
            <section class="page-section" id="resourcesSection">
                <!-- ì¹´í…Œê³ ë¦¬ íƒ­ -->
                <div class="tabs" id="resourceTabs">
                    <button class="tab-btn active" data-category="all">ì „ì²´</button>
                    <button class="tab-btn" data-category="basic">ê¸°ì´ˆ</button>
                    <button class="tab-btn" data-category="anatomy">ì¸ì²´</button>
                    <button class="tab-btn" data-category="perspective">ì›ê·¼ë²•</button>
                </div>

                <!-- AI ì¶”ì²œ ë¦¬ì†ŒìŠ¤ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“ AI ì¶”ì²œ í•™ìŠµ ìë£Œ</h3>
                    </div>
                    <div id="aiResourceList">
                        <div class="skeleton skeleton-card"></div>
                        <div class="skeleton skeleton-card"></div>
                    </div>
                </div>

                <!-- ì¼ë°˜ ë¦¬ì†ŒìŠ¤ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“š í•™ìŠµ ìë£Œ</h3>
                    </div>
                    <div id="resourceList">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>
                </div>
            </section>

            <!-- ============================================
                 ê°¤ëŸ¬ë¦¬ ì„¹ì…˜
                 - ì‘í’ˆ ê¸°ë¡
                 ============================================ -->
            <section class="page-section" id="gallerySection">
                <!-- ê°¤ëŸ¬ë¦¬ í—¤ë” -->
                <div class="gallery-header">
                    <h2 style="font-size: var(--font-size-xl); font-weight: 600;">ğŸ–¼ï¸ ë‚˜ì˜ ê°¤ëŸ¬ë¦¬</h2>
                    <div class="view-toggle">
                        <button class="view-toggle-btn active" data-view="grid" title="ê·¸ë¦¬ë“œ ë·°">
                            âŠ
                        </button>
                        <button class="view-toggle-btn" data-view="list" title="ë¦¬ìŠ¤íŠ¸ ë·°">
                            â˜°
                        </button>
                        <button class="view-toggle-btn" data-view="calendar" title="ìº˜ë¦°ë” ë·°">
                            ğŸ“…
                        </button>
                    </div>
                </div>

                <!-- ê°¤ëŸ¬ë¦¬ ì»¨í…ì¸  -->
                <div id="galleryContent">
                    <!-- ê·¸ë¦¬ë“œ ë·° -->
                    <div class="gallery-grid" id="galleryGrid">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>

                    <!-- ë¦¬ìŠ¤íŠ¸ ë·° -->
                    <div class="gallery-list" id="galleryList" style="display: none;">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>

                    <!-- ìº˜ë¦°ë” ë·° -->
                    <div class="calendar-container" id="galleryCalendar" style="display: none;">
                        <div class="calendar-header">
                            <button class="btn btn-sm btn-ghost" id="prevMonthBtn">â—€</button>
                            <span id="currentMonthLabel" style="font-weight: 600;"></span>
                            <button class="btn btn-sm btn-ghost" id="nextMonthBtn">â–¶</button>
                        </div>
                        <div class="calendar-grid" id="calendarGrid">
                            <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                        </div>
                    </div>
                </div>

                <!-- ë¹ˆ ìƒíƒœ -->
                <div class="empty-state" id="galleryEmpty">
                    <div class="empty-state-icon">ğŸ¨</div>
                    <div class="empty-state-title">ì•„ì§ ì‘í’ˆì´ ì—†ì–´ìš”</div>
                    <div class="empty-state-desc">ì²« ë²ˆì§¸ ì‘í’ˆì„ ì—…ë¡œë“œí•´ë³´ì„¸ìš”!</div>
                    <button class="btn btn-primary" id="uploadFirstBtn">
                        ğŸ“¤ ì‘í’ˆ ì—…ë¡œë“œ
                    </button>
                </div>

                <!-- í”Œë¡œíŒ… ì—…ë¡œë“œ ë²„íŠ¼ -->
                <button class="fab" id="uploadFab" title="ì‘í’ˆ ì—…ë¡œë“œ">
                    +
                </button>
            </section>

            <!-- ============================================
                 ë¦¬í¬íŠ¸ ì„¹ì…˜
                 - ì£¼ê°„/ì›”ê°„ ë¦¬í¬íŠ¸
                 ============================================ -->
            <section class="page-section" id="reportSection">
                <!-- ê¸°ê°„ ì„ íƒ -->
                <div class="tabs">
                    <button class="tab-btn active" data-period="week">ì´ë²ˆ ì£¼</button>
                    <button class="tab-btn" data-period="month">ì´ë²ˆ ë‹¬</button>
                    <button class="tab-btn" data-period="all">ì „ì²´</button>
                </div>

                <!-- ìš”ì•½ í†µê³„ -->
                <div class="report-summary">
                    <div class="report-metric">
                        <div class="report-metric-value" id="reportTasks">0</div>
                        <div class="report-metric-label">ì™„ë£Œ ê³¼ì œ</div>
                    </div>
                    <div class="report-metric">
                        <div class="report-metric-value" id="reportPoints">0</div>
                        <div class="report-metric-label">íšë“ í¬ì¸íŠ¸</div>
                    </div>
                    <div class="report-metric">
                        <div class="report-metric-value" id="reportStreak">0</div>
                        <div class="report-metric-label">ìµœì¥ ì—°ì†</div>
                    </div>
                    <div class="report-metric">
                        <div class="report-metric-value" id="reportTime">0h</div>
                        <div class="report-metric-label">í•™ìŠµ ì‹œê°„</div>
                    </div>
                </div>

                <!-- ì¼ë³„ í™œë™ ì°¨íŠ¸ -->
                <div class="report-chart">
                    <h3 class="card-title" style="margin-bottom: var(--space-md);">ğŸ“ˆ ì¼ë³„ í™œë™</h3>
                    <div class="weekly-chart" id="weeklyChart">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>
                </div>

                <!-- ì¹´í…Œê³ ë¦¬ë³„ ì§„í–‰ë„ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“Š ì¹´í…Œê³ ë¦¬ë³„ ì§„í–‰ë„</h3>
                    </div>
                    <div id="categoryProgress">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </div>
                </div>

                <!-- AI ì£¼ê°„ í‰ê°€ -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ¤– AI ì£¼ê°„ í‰ê°€</h3>
                    </div>
                    <div id="weeklyAiReview">
                        <div class="skeleton skeleton-text"></div>
                        <div class="skeleton skeleton-text"></div>
                        <div class="skeleton skeleton-text" style="width: 80%"></div>
                    </div>
                </div>
            </section>

            <!-- ============================================
                 AI ì±„íŒ… ì„¹ì…˜
                 - AIì™€ ëŒ€í™”
                 ============================================ -->
            <section class="page-section" id="chatSection">
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="chat-message assistant">
                            ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ArtQuest AI ë©˜í† ì˜ˆìš”. ğŸ¨<br><br>
                            ê·¸ë¦¼ ê³µë¶€ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ë©´ ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”!
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="chatInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
                        <button class="chat-send-btn" id="chatSendBtn">â¤</button>
                    </div>
                </div>
            </section>

            <!-- ============================================
                 ì„¤ì • ì„¹ì…˜
                 - ê°œì¸í™” ë° ì•± ì„¤ì •
                 ============================================ -->
            <section class="page-section" id="settingsSection">
                <!-- API ì„¤ì • -->
                <div class="settings-group">
                    <div class="settings-group-title">API ì„¤ì •</div>
                    <div class="settings-item" id="apiKeySettings">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸ”‘</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">Gemini API í‚¤</div>
                                <div class="settings-item-desc" id="apiKeyStatus">ì„¤ì •ë˜ì§€ ì•ŠìŒ</div>
                            </div>
                        </div>
                        <div class="settings-item-right">â€º</div>
                    </div>
                </div>

                <!-- í…Œë§ˆ ì„¤ì • -->
                <div class="settings-group">
                    <div class="settings-group-title">í…Œë§ˆ</div>
                    <div class="settings-item" id="darkModeToggle">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸŒ™</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">ë‹¤í¬ ëª¨ë“œ</div>
                                <div class="settings-item-desc">ì–´ë‘ìš´ í…Œë§ˆ ì‚¬ìš©</div>
                            </div>
                        </div>
                        <div class="toggle-switch" id="darkModeSwitch"></div>
                    </div>
                    <div class="settings-item" id="accentColorSettings">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸ¨</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">ê°•ì¡° ìƒ‰ìƒ</div>
                                <div class="settings-item-desc">ì•± í…Œë§ˆ ìƒ‰ìƒ ë³€ê²½</div>
                            </div>
                        </div>
                        <div class="settings-item-right">â€º</div>
                    </div>
                    <div class="settings-item" id="fontSettings">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸ”¤</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">í°íŠ¸ ì„¤ì •</div>
                                <div class="settings-item-desc">ì‚¬ìš©ì ì •ì˜ í°íŠ¸ ì¶”ê°€</div>
                            </div>
                        </div>
                        <div class="settings-item-right">â€º</div>
                    </div>
                </div>

                <!-- ì•Œë¦¼ ì„¤ì • -->
                <div class="settings-group">
                    <div class="settings-group-title">ì•Œë¦¼</div>
                    <div class="settings-item" id="notificationToggle">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸ””</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">í‘¸ì‹œ ì•Œë¦¼</div>
                                <div class="settings-item-desc">í•™ìŠµ ë¦¬ë§ˆì¸ë” ë°›ê¸°</div>
                            </div>
                        </div>
                        <div class="toggle-switch" id="notificationSwitch"></div>
                    </div>
                    <div class="settings-item" id="reminderTimeSettings">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">â°</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">ì•Œë¦¼ ì‹œê°„</div>
                                <div class="settings-item-desc" id="reminderTimeDisplay">ì˜¤ì „ 9:00</div>
                            </div>
                        </div>
                        <div class="settings-item-right">â€º</div>
                    </div>
                </div>

                <!-- í•™ìŠµ ì„¤ì • -->
                <div class="settings-group">
                    <div class="settings-group-title">í•™ìŠµ</div>
                    <div class="settings-item" id="editAssessmentBtn">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸ“</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">ì‹¤ë ¥ ìê°€ì§„ë‹¨ ìˆ˜ì •</div>
                                <div class="settings-item-desc">ì‹¤ë ¥ ë ˆë²¨ ì¬ì„¤ì •</div>
                            </div>
                        </div>
                        <div class="settings-item-right">â€º</div>
                    </div>
                    <div class="settings-item" id="resetProgressBtn">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸ”„</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">ì§„í–‰ ìƒí™© ì´ˆê¸°í™”</div>
                                <div class="settings-item-desc">ëª¨ë“  ë°ì´í„° ì‚­ì œ</div>
                            </div>
                        </div>
                        <div class="settings-item-right">â€º</div>
                    </div>
                </div>

                <!-- ì•± ì •ë³´ -->
                <div class="settings-group">
                    <div class="settings-group-title">ì•± ì •ë³´</div>
                    <div class="settings-item">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">â„¹ï¸</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">ë²„ì „</div>
                                <div class="settings-item-desc">1.0.0</div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-item" id="installAppBtn">
                        <div class="settings-item-left">
                            <div class="settings-item-icon">ğŸ“²</div>
                            <div class="settings-item-content">
                                <div class="settings-item-label">ì•± ì„¤ì¹˜</div>
                                <div class="settings-item-desc">í™ˆ í™”ë©´ì— ì¶”ê°€</div>
                            </div>
                        </div>
                        <div class="settings-item-right">â€º</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-section="dashboard">
                <span class="nav-icon">ğŸ </span>
                <span>í™ˆ</span>
            </button>
            <button class="nav-item" data-section="timer">
                <span class="nav-icon">â±ï¸</span>
                <span>íƒ€ì´ë¨¸</span>
            </button>
            <button class="nav-item" data-section="analysis">
                <span class="nav-icon">ğŸ“Š</span>
                <span>ë¶„ì„</span>
            </button>
            <button class="nav-item" data-section="gallery">
                <span class="nav-icon">ğŸ–¼ï¸</span>
                <span>ê°¤ëŸ¬ë¦¬</span>
            </button>
            <button class="nav-item" data-section="chat">
                <span class="nav-icon">ğŸ’¬</span>
                <span>AI ë©˜í† </span>
            </button>
        </nav>
    </div>

    <!-- ============================================
         ëª¨ë‹¬ í…œí”Œë¦¿ë“¤
         ============================================ -->

    <!-- API í‚¤ ì…ë ¥ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="apiKeyModal">
        <div class="modal-content">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title">ğŸ”‘ API í‚¤ ì„¤ì •</h3>
                <button class="btn btn-icon btn-ghost modal-close">âœ•</button>
            </div>
            <div class="input-group">
                <label class="input-label">Gemini API í‚¤</label>
                <input type="password" class="input-field" id="apiKeyInput" placeholder="API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <p style="font-size: var(--font-size-sm); color: var(--text-tertiary); margin-bottom: var(--space-lg);">
                API í‚¤ëŠ” <a href="https://makersuite.google.com/app/apikey" target="_blank" style="color: var(--primary);">Google AI Studio</a>ì—ì„œ ë¬´ë£Œë¡œ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <button class="btn btn-primary btn-block" id="saveApiKeyBtn">ì €ì¥</button>
        </div>
    </div>

    <!-- ìƒ‰ìƒ ì„ íƒ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="colorPickerModal">
        <div class="modal-content">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title">ğŸ¨ ê°•ì¡° ìƒ‰ìƒ</h3>
                <button class="btn btn-icon btn-ghost modal-close">âœ•</button>
            </div>
            <div class="color-picker-grid" id="colorPickerGrid">
                <div class="color-option selected" data-color="#6366f1" style="background: #6366f1;"></div>
                <div class="color-option" data-color="#8b5cf6" style="background: #8b5cf6;"></div>
                <div class="color-option" data-color="#ec4899" style="background: #ec4899;"></div>
                <div class="color-option" data-color="#f43f5e" style="background: #f43f5e;"></div>
                <div class="color-option" data-color="#f97316" style="background: #f97316;"></div>
                <div class="color-option" data-color="#eab308" style="background: #eab308;"></div>
                <div class="color-option" data-color="#22c55e" style="background: #22c55e;"></div>
                <div class="color-option" data-color="#14b8a6" style="background: #14b8a6;"></div>
                <div class="color-option" data-color="#06b6d4" style="background: #06b6d4;"></div>
                <div class="color-option" data-color="#3b82f6" style="background: #3b82f6;"></div>
                <div class="color-option" data-color="#64748b" style="background: #64748b;"></div>
                <div class="color-option" data-color="#78716c" style="background: #78716c;"></div>
            </div>
        </div>
    </div>

    <!-- í°íŠ¸ ì„¤ì • ëª¨ë‹¬ -->
    <div class="modal-overlay" id="fontModal">
        <div class="modal-content">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title">ğŸ”¤ í°íŠ¸ ì„¤ì •</h3>
                <button class="btn btn-icon btn-ghost modal-close">âœ•</button>
            </div>
            <div class="input-group">
                <label class="input-label">Google Fonts URL ë˜ëŠ” @import ì½”ë“œ</label>
                <textarea class="input-field" id="fontImportInput" placeholder="ì˜ˆ: @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap');"></textarea>
            </div>
            <div class="input-group">
                <label class="input-label">í°íŠ¸ íŒ¨ë°€ë¦¬ ì´ë¦„</label>
                <input type="text" class="input-field" id="fontFamilyInput" placeholder="ì˜ˆ: 'Noto Sans KR'">
            </div>
            <button class="btn btn-primary btn-block" id="applyFontBtn">ì ìš©</button>
        </div>
    </div>

    <!-- ì‘í’ˆ ì—…ë¡œë“œ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="uploadModal">
        <div class="modal-content">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title">ğŸ“¤ ì‘í’ˆ ì—…ë¡œë“œ</h3>
                <button class="btn btn-icon btn-ghost modal-close">âœ•</button>
            </div>
            <div class="input-group">
                <label class="input-label">ì´ë¯¸ì§€ ì„ íƒ</label>
                <input type="file" class="input-field" id="artworkFileInput" accept="image/*">
            </div>
            <div id="uploadPreview" style="margin-bottom: var(--space-md); display: none;">
                <img id="previewImage" style="width: 100%; border-radius: var(--radius-md);">
            </div>
            <div class="input-group">
                <label class="input-label">ì œëª©</label>
                <input type="text" class="input-field" id="artworkTitleInput" placeholder="ì‘í’ˆ ì œëª©">
            </div>
            <div class="input-group">
                <label class="input-label">ë©”ëª¨</label>
                <textarea class="input-field" id="artworkNoteInput" placeholder="ì‘ì—… ê³¼ì •ì´ë‚˜ ëŠë‚€ ì ì„ ê¸°ë¡í•´ë³´ì„¸ìš”"></textarea>
            </div>
            <div class="input-group">
                <label class="input-label">ì¹´í…Œê³ ë¦¬</label>
                <select class="input-field" id="artworkCategoryInput">
                    <option value="practice">ì—°ìŠµ</option>
                    <option value="study">ìŠ¤í„°ë””</option>
                    <option value="personal">ê°œì¸ ì‘ì—…</option>
                    <option value="commission">ì»¤ë¯¸ì…˜</option>
                </select>
            </div>
            <button class="btn btn-primary btn-block" id="saveArtworkBtn">ì €ì¥</button>
        </div>
    </div>

    <!-- ì‘í’ˆ ìƒì„¸ ëª¨ë‹¬ -->
    <div class="modal-overlay modal-fullscreen" id="artworkDetailModal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="btn btn-icon btn-ghost modal-close">âœ•</button>
                <h3 class="modal-title" id="artworkDetailTitle">ì‘í’ˆ ìƒì„¸</h3>
                <button class="btn btn-icon btn-ghost" id="deleteArtworkBtn">ğŸ—‘ï¸</button>
            </div>
            <div id="artworkDetailContent">
                <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
            </div>
        </div>
    </div>

    <!-- ì‹¤ë ¥ ìˆ˜ì • ëª¨ë‹¬ -->
    <div class="modal-overlay" id="editSkillsModal">
        <div class="modal-content" style="max-height: 80vh;">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title">ğŸ“ ì‹¤ë ¥ ìê°€ì§„ë‹¨ ìˆ˜ì •</h3>
                <button class="btn btn-icon btn-ghost modal-close">âœ•</button>
            </div>
            <div id="editSkillsContent" style="overflow-y: auto; max-height: 60vh;">
                <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
            </div>
            <button class="btn btn-primary btn-block" id="saveSkillsBtn" style="margin-top: var(--space-md);">ì €ì¥</button>
        </div>
    </div>

    <!-- ì•Œë¦¼ ì‹œê°„ ì„¤ì • ëª¨ë‹¬ -->
    <div class="modal-overlay" id="reminderModal">
        <div class="modal-content">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title">â° ì•Œë¦¼ ì‹œê°„ ì„¤ì •</h3>
                <button class="btn btn-icon btn-ghost modal-close">âœ•</button>
            </div>
            <div class="input-group">
                <label class="input-label">ì•Œë¦¼ ì‹œê°„</label>
                <input type="time" class="input-field" id="reminderTimeInput" value="09:00">
            </div>
            <button class="btn btn-primary btn-block" id="saveReminderBtn">ì €ì¥</button>
        </div>
    </div>

    <!-- í™•ì¸ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="confirmModal">
        <div class="modal-content">
            <div class="modal-handle"></div>
            <div style="text-align: center; padding: var(--space-lg) 0;">
                <div style="font-size: 48px; margin-bottom: var(--space-md);" id="confirmIcon">âš ï¸</div>
                <h3 class="modal-title" id="confirmTitle">í™•ì¸</h3>
                <p style="color: var(--text-secondary); margin: var(--space-md) 0;" id="confirmMessage">ì •ë§ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
            </div>
            <div style="display: flex; gap: var(--space-md);">
                <button class="btn btn-secondary btn-block modal-close">ì·¨ì†Œ</button>
                <button class="btn btn-primary btn-block" id="confirmActionBtn">í™•ì¸</button>
            </div>
        </div>
    </div>

    <script>
/* ============================================
   ArtQuest - ê·¸ë¦¼ ê³µë¶€ ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ ì•±
   ë©”ì¸ JavaScript ëª¨ë“ˆ

   êµ¬ì¡°:
   1. ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ
   2. ìƒíƒœ ê´€ë¦¬ ëª¨ë“ˆ
   3. ìŠ¤í† ë¦¬ì§€ ëª¨ë“ˆ
   4. API ì„œë¹„ìŠ¤ ëª¨ë“ˆ
   5. UI ì»¨íŠ¸ë¡¤ëŸ¬ ëª¨ë“ˆ
   6. ê¸°ëŠ¥ë³„ ëª¨ë“ˆë“¤
   7. ì•± ì´ˆê¸°í™”
   ============================================ */

// ============================================
// 1. ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ
// - ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í—¬í¼ í•¨ìˆ˜ë“¤
// ============================================
const Utils = (() => {
    /**
     * ë‚ ì§œë¥¼ í•œêµ­ì–´ í˜•ì‹ìœ¼ë¡œ í¬ë§·
     * @param {Date} date - í¬ë§·í•  ë‚ ì§œ
     * @returns {string} í¬ë§·ëœ ë‚ ì§œ ë¬¸ìì—´
     */
    const formatDate = (date) => {
        const options = {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            weekday: 'long'
        };
        return date.toLocaleDateString('ko-KR', options);
    };

    /**
     * ì‹œê°„ì„ MM:SS í˜•ì‹ìœ¼ë¡œ í¬ë§·
     * @param {number} seconds - ì´ˆ ë‹¨ìœ„ ì‹œê°„
     * @returns {string} í¬ë§·ëœ ì‹œê°„ ë¬¸ìì—´
     */
    const formatTime = (seconds) => {
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    };

    /**
     * ê³ ìœ  ID ìƒì„±
     * @returns {string} ê³ ìœ  ID
     */
    const generateId = () => {
        return Date.now().toString(36) + Math.random().toString(36).substr(2);
    };

    /**
     * ë””ë°”ìš´ìŠ¤ í•¨ìˆ˜
     * @param {Function} func - ë””ë°”ìš´ìŠ¤í•  í•¨ìˆ˜
     * @param {number} wait - ëŒ€ê¸° ì‹œê°„ (ms)
     * @returns {Function} ë””ë°”ìš´ìŠ¤ëœ í•¨ìˆ˜
     */
    const debounce = (func, wait) => {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    };

    /**
     * ì˜¤ëŠ˜ ë‚ ì§œì˜ ì‹œì‘ ì‹œê°„ ë°˜í™˜
     * @returns {Date} ì˜¤ëŠ˜ 00:00:00
     */
    const getToday = () => {
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        return today;
    };

    /**
     * ì´ë²ˆ ì£¼ì˜ ì‹œì‘ì¼ ë°˜í™˜ (ì›”ìš”ì¼ ê¸°ì¤€)
     * @returns {Date} ì´ë²ˆ ì£¼ ì›”ìš”ì¼
     */
    const getWeekStart = () => {
        const today = new Date();
        const day = today.getDay();
        const diff = today.getDate() - day + (day === 0 ? -6 : 1);
        const monday = new Date(today.setDate(diff));
        monday.setHours(0, 0, 0, 0);
        return monday;
    };

    /**
     * ì¸ì‚¬ë§ ìƒì„±
     * @returns {object} ì´ëª¨ì§€ì™€ ì¸ì‚¬ë§
     */
    const getGreeting = () => {
        const hour = new Date().getHours();
        if (hour < 6) return { emoji: 'ğŸŒ™', text: 'ëŠ¦ì€ ë°¤ì´ì—ìš”' };
        if (hour < 12) return { emoji: 'ğŸŒ…', text: 'ì¢‹ì€ ì•„ì¹¨ì´ì—ìš”' };
        if (hour < 18) return { emoji: 'â˜€ï¸', text: 'ì¢‹ì€ ì˜¤í›„ì˜ˆìš”' };
        return { emoji: 'ğŸŒ†', text: 'ì¢‹ì€ ì €ë…ì´ì—ìš”' };
    };

    /**
     * ë ˆë²¨ ê³„ì‚°
     * @param {number} points - ì´ í¬ì¸íŠ¸
     * @returns {number} ë ˆë²¨
     */
    const calculateLevel = (points) => {
        return Math.floor(points / 100) + 1;
    };

    return {
        formatDate,
        formatTime,
        generateId,
        debounce,
        getToday,
        getWeekStart,
        getGreeting,
        calculateLevel
    };
})();

// ============================================
// 2. ìƒíƒœ ê´€ë¦¬ ëª¨ë“ˆ
// - ì•±ì˜ ì „ì—­ ìƒíƒœ ê´€ë¦¬
// ============================================
const AppState = (() => {
    // ì´ˆê¸° ìƒíƒœ ì •ì˜
    const initialState = {
        // ì‚¬ìš©ì ì •ë³´
        user: {
            apiKey: '',
            isOnboarded: false,
            skills: {
                basic: 1,      // ê¸°ì´ˆ ë“œë¡œì‰ (1: ì´ˆê¸‰, 2: ì¤‘ê¸‰, 3: ìƒê¸‰)
                anatomy: 1,    // ì¸ì²´
                perspective: 1, // ì›ê·¼ë²•
                shading: 1,    // ëª…ì•”
                color: 1,      // ìƒ‰ì±„
                composition: 1  // êµ¬ë„
            }
        },

        // ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜
        gamification: {
            points: 0,
            streak: 0,
            lastStudyDate: null,
            completedTasks: 0,
            studyDays: 0,
            focusSessions: 0,
            totalFocusMinutes: 0
        },

        // ê³¼ì œ
        tasks: {
            today: [],
            history: []
        },

        // ê°¤ëŸ¬ë¦¬
        gallery: [],

        // ì„¤ì •
        settings: {
            theme: 'light',
            accentColor: '#6366f1',
            customFont: null,
            notifications: false,
            reminderTime: '09:00'
        },

        // íƒ€ì´ë¨¸
        timer: {
            duration: 25 * 60,
            remaining: 25 * 60,
            isRunning: false,
            mode: 'focus' // 'focus' | 'break'
        },

        // AI ë¶„ì„ ê²°ê³¼
        analysis: {
            strengths: [],
            weaknesses: [],
            tips: [],
            lastUpdated: null
        },

        // ì±„íŒ… ê¸°ë¡
        chatHistory: []
    };

    // ìƒíƒœ ì €ì¥ì†Œ
    let state = JSON.parse(JSON.stringify(initialState));

    // êµ¬ë…ì ëª©ë¡
    const subscribers = [];

    /**
     * ìƒíƒœ ê°€ì ¸ì˜¤ê¸°
     * @param {string} path - ì  í‘œê¸°ë²• ê²½ë¡œ (ì˜ˆ: 'user.skills.basic')
     * @returns {any} ìƒíƒœ ê°’
     */
    const get = (path) => {
        if (!path) return state;
        return path.split('.').reduce((obj, key) => obj?.[key], state);
    };

    /**
     * ìƒíƒœ ì„¤ì •
     * @param {string} path - ì  í‘œê¸°ë²• ê²½ë¡œ
     * @param {any} value - ì„¤ì •í•  ê°’
     */
    const set = (path, value) => {
        const keys = path.split('.');
        const lastKey = keys.pop();
        const target = keys.reduce((obj, key) => {
            if (!obj[key]) obj[key] = {};
            return obj[key];
        }, state);
        target[lastKey] = value;

        // êµ¬ë…ìë“¤ì—ê²Œ ì•Œë¦¼
        notifySubscribers(path, value);

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
        Storage.save();
    };

    /**
     * ìƒíƒœ êµ¬ë…
     * @param {Function} callback - ìƒíƒœ ë³€ê²½ ì‹œ í˜¸ì¶œë  ì½œë°±
     * @returns {Function} êµ¬ë… ì·¨ì†Œ í•¨ìˆ˜
     */
    const subscribe = (callback) => {
        subscribers.push(callback);
        return () => {
            const index = subscribers.indexOf(callback);
            if (index > -1) subscribers.splice(index, 1);
        };
    };

    /**
     * êµ¬ë…ìë“¤ì—ê²Œ ë³€ê²½ ì•Œë¦¼
     * @param {string} path - ë³€ê²½ëœ ê²½ë¡œ
     * @param {any} value - ìƒˆ ê°’
     */
    const notifySubscribers = (path, value) => {
        subscribers.forEach(callback => callback(path, value, state));
    };

    /**
     * ì „ì²´ ìƒíƒœ êµì²´ (ë¡œë“œ ì‹œ ì‚¬ìš©)
     * @param {object} newState - ìƒˆ ìƒíƒœ
     */
    const replaceState = (newState) => {
        state = { ...initialState, ...newState };
    };

    /**
     * ìƒíƒœ ì´ˆê¸°í™”
     */
    const reset = () => {
        state = JSON.parse(JSON.stringify(initialState));
        Storage.save();
    };

    return {
        get,
        set,
        subscribe,
        replaceState,
        reset,
        getFullState: () => state
    };
})();

// ============================================
// 3. ìŠ¤í† ë¦¬ì§€ ëª¨ë“ˆ
// - LocalStorageë¥¼ í†µí•œ ë°ì´í„° ì˜ì†í™”
// ============================================
const Storage = (() => {
    const STORAGE_KEY = 'artquest_data';

    /**
     * ìƒíƒœë¥¼ LocalStorageì— ì €ì¥
     */
    const save = () => {
        try {
            const state = AppState.getFullState();
            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        } catch (error) {
            console.error('ì €ì¥ ì‹¤íŒ¨:', error);
        }
    };

    /**
     * LocalStorageì—ì„œ ìƒíƒœ ë¡œë“œ
     * @returns {boolean} ë¡œë“œ ì„±ê³µ ì—¬ë¶€
     */
    const load = () => {
        try {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                const state = JSON.parse(saved);
                AppState.replaceState(state);
                return true;
            }
            return false;
        } catch (error) {
            console.error('ë¡œë“œ ì‹¤íŒ¨:', error);
            return false;
        }
    };

    /**
     * ëª¨ë“  ë°ì´í„° ì‚­ì œ
     */
    const clear = () => {
        localStorage.removeItem(STORAGE_KEY);
    };

    /**
     * ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ ì €ì¥ (Base64)
     * @param {File} file - ì´ë¯¸ì§€ íŒŒì¼
     * @returns {Promise<string>} Base64 ë¬¸ìì—´
     */
    const saveImage = (file) => {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = (e) => resolve(e.target.result);
            reader.onerror = reject;
            reader.readAsDataURL(file);
        });
    };

    return {
        save,
        load,
        clear,
        saveImage
    };
})();

// ============================================
// 4. API ì„œë¹„ìŠ¤ ëª¨ë“ˆ
// - Gemini API í†µì‹  ì²˜ë¦¬
// ============================================
const APIService = (() => {
    const API_BASE = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent';

    /**
     * Gemini API í˜¸ì¶œ
     * @param {string} prompt - í”„ë¡¬í”„íŠ¸
     * @returns {Promise<string>} AI ì‘ë‹µ
     */
    const callGemini = async (prompt) => {
        const apiKey = AppState.get('user.apiKey');
        if (!apiKey) {
            throw new Error('API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        }

        try {
            const response = await fetch(`${API_BASE}?key=${apiKey}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: prompt
                        }]
                    }],
                    generationConfig: {
                        temperature: 0.7,
                        topK: 40,
                        topP: 0.95,
                        maxOutputTokens: 2048,
                    }
                })
            });

            if (!response.ok) {
                throw new Error(`API ì˜¤ë¥˜: ${response.status}`);
            }

            const data = await response.json();
            return data.candidates?.[0]?.content?.parts?.[0]?.text || 'ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.';
        } catch (error) {
            console.error('API í˜¸ì¶œ ì‹¤íŒ¨:', error);
            throw error;
        }
    };

    /**
     * ë§ì¶¤ ê³¼ì œ ìƒì„± ìš”ì²­
     * @returns {Promise<Array>} ê³¼ì œ ëª©ë¡
     */
    const generateTasks = async () => {
        const skills = AppState.get('user.skills');
        const dayOfWeek = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '][new Date().getDay()];

        const prompt = `ë‹¹ì‹ ì€ ê·¸ë¦¼ í•™ìŠµ ì½”ì¹˜ì…ë‹ˆë‹¤. ë‹¤ìŒ ì¡°ê±´ì— ë§ëŠ” ì˜¤ëŠ˜ì˜ í•™ìŠµ ê³¼ì œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

ì‚¬ìš©ì ì‹¤ë ¥ (1: ì´ˆê¸‰, 2: ì¤‘ê¸‰, 3: ìƒê¸‰):
- ê¸°ì´ˆ ë“œë¡œì‰: ${skills.basic}
- ì¸ì²´: ${skills.anatomy}
- ì›ê·¼ë²•: ${skills.perspective}
- ëª…ì•”: ${skills.shading}
- ìƒ‰ì±„: ${skills.color}
- êµ¬ë„: ${skills.composition}

ì˜¤ëŠ˜: ${dayOfWeek}ìš”ì¼

ìš”êµ¬ì‚¬í•­:
1. ì‹¤ë ¥ ìˆ˜ì¤€ì— ë§ëŠ” ì ì ˆí•œ ë‚œì´ë„ì˜ ê³¼ì œ 5-6ê°œ ìƒì„±
2. ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ë¥¼ í¬í•¨
3. êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ê³¼ì œ
4. ADHD ì¹œí™”ì ìœ¼ë¡œ ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í• 
5. ê° ê³¼ì œì— ì˜ˆìƒ ì†Œìš” ì‹œê°„ í¬í•¨

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´ì£¼ì„¸ìš”:
[
  {
    "id": "ê³ ìœ ID",
    "title": "ê³¼ì œ ì œëª©",
    "description": "ìƒì„¸ ì„¤ëª…",
    "category": "basic|anatomy|perspective|shading|color|composition",
    "duration": 15,
    "points": 10,
    "difficulty": "easy|medium|hard"
  }
]`;

        try {
            const response = await callGemini(prompt);
            // JSON íŒŒì‹±
            const jsonMatch = response.match(/\[[\s\S]*\]/);
            if (jsonMatch) {
                const tasks = JSON.parse(jsonMatch[0]);
                return tasks.map(task => ({
                    ...task,
                    id: Utils.generateId(),
                    completed: false,
                    createdAt: new Date().toISOString()
                }));
            }
            throw new Error('ê³¼ì œ íŒŒì‹± ì‹¤íŒ¨');
        } catch (error) {
            console.error('ê³¼ì œ ìƒì„± ì‹¤íŒ¨:', error);
            // í´ë°± ê³¼ì œ ë°˜í™˜
            return getDefaultTasks();
        }
    };

    /**
     * ê¸°ë³¸ ê³¼ì œ (API ì‹¤íŒ¨ ì‹œ ì‚¬ìš©)
     * @returns {Array} ê¸°ë³¸ ê³¼ì œ ëª©ë¡
     */
    const getDefaultTasks = () => {
        const skills = AppState.get('user.skills');
        const defaultTasks = [
            {
                id: Utils.generateId(),
                title: 'ì›Œë°ì—… ìŠ¤ì¼€ì¹˜',
                description: '5ë¶„ê°„ ììœ ë¡­ê²Œ ì„  ê¸‹ê¸° ì—°ìŠµì„ í•´ë³´ì„¸ìš”.',
                category: 'basic',
                duration: 5,
                points: 10,
                difficulty: 'easy',
                completed: false,
                createdAt: new Date().toISOString()
            },
            {
                id: Utils.generateId(),
                title: 'ë„í˜• ë“œë¡œì‰',
                description: 'ê¸°ë³¸ ë„í˜•(ì›, ì‚¬ê°í˜•, ì‚¼ê°í˜•)ì„ ë‹¤ì–‘í•œ ê°ë„ì—ì„œ ê·¸ë ¤ë³´ì„¸ìš”.',
                category: 'basic',
                duration: 15,
                points: 10,
                difficulty: 'easy',
                completed: false,
                createdAt: new Date().toISOString()
            },
            {
                id: Utils.generateId(),
                title: 'ì† ìŠ¤ì¼€ì¹˜',
                description: 'ìì‹ ì˜ ì†ì„ 3ê°€ì§€ í¬ì¦ˆë¡œ ìŠ¤ì¼€ì¹˜í•´ë³´ì„¸ìš”.',
                category: 'anatomy',
                duration: 20,
                points: 15,
                difficulty: 'medium',
                completed: false,
                createdAt: new Date().toISOString()
            },
            {
                id: Utils.generateId(),
                title: 'ëª…ì•” ì—°ìŠµ',
                description: 'êµ¬ì²´ì— ëª…ì•”ì„ ë„£ì–´ ì…ì²´ê°ì„ í‘œí˜„í•´ë³´ì„¸ìš”.',
                category: 'shading',
                duration: 15,
                points: 10,
                difficulty: 'medium',
                completed: false,
                createdAt: new Date().toISOString()
            },
            {
                id: Utils.generateId(),
                title: 'ë ˆí¼ëŸ°ìŠ¤ ëª¨ì‘',
                description: 'ì¢‹ì•„í•˜ëŠ” ì•„í‹°ìŠ¤íŠ¸ì˜ ì‘í’ˆì„ ì°¸ê³ í•˜ì—¬ ëª¨ì‘í•´ë³´ì„¸ìš”.',
                category: 'composition',
                duration: 30,
                points: 20,
                difficulty: 'hard',
                completed: false,
                createdAt: new Date().toISOString()
            }
        ];

        return defaultTasks;
    };

    /**
     * ì‹¤ë ¥ ë¶„ì„ ìš”ì²­
     * @returns {Promise<object>} ë¶„ì„ ê²°ê³¼
     */
    const analyzeSkills = async () => {
        const skills = AppState.get('user.skills');
        const gamification = AppState.get('gamification');

        const prompt = `ë‹¹ì‹ ì€ ê·¸ë¦¼ í•™ìŠµ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ ì‚¬ìš©ìì˜ ì‹¤ë ¥ì„ ë¶„ì„í•´ì£¼ì„¸ìš”.

ì‹¤ë ¥ ìˆ˜ì¤€ (1: ì´ˆê¸‰, 2: ì¤‘ê¸‰, 3: ìƒê¸‰):
- ê¸°ì´ˆ ë“œë¡œì‰: ${skills.basic}
- ì¸ì²´: ${skills.anatomy}
- ì›ê·¼ë²•: ${skills.perspective}
- ëª…ì•”: ${skills.shading}
- ìƒ‰ì±„: ${skills.color}
- êµ¬ë„: ${skills.composition}

í•™ìŠµ í†µê³„:
- ì´ í¬ì¸íŠ¸: ${gamification.points}
- ì™„ë£Œí•œ ê³¼ì œ: ${gamification.completedTasks}
- ì—°ì† í•™ìŠµì¼: ${gamification.streak}

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´ì£¼ì„¸ìš”:
{
  "strengths": [
    {"category": "ì¹´í…Œê³ ë¦¬ëª…", "description": "ê°•ì  ì„¤ëª…"}
  ],
  "weaknesses": [
    {"category": "ì¹´í…Œê³ ë¦¬ëª…", "description": "ê°œì„ ì  ì„¤ëª…", "tip": "êµ¬ì²´ì ì¸ í•™ìŠµ íŒ"}
  ],
  "overallAdvice": "ì „ì²´ì ì¸ í•™ìŠµ ì¡°ì–¸ (2-3ë¬¸ì¥)"
}`;

        try {
            const response = await callGemini(prompt);
            const jsonMatch = response.match(/\{[\s\S]*\}/);
            if (jsonMatch) {
                return JSON.parse(jsonMatch[0]);
            }
            throw new Error('ë¶„ì„ íŒŒì‹± ì‹¤íŒ¨');
        } catch (error) {
            console.error('ë¶„ì„ ì‹¤íŒ¨:', error);
            return getDefaultAnalysis();
        }
    };

    /**
     * ê¸°ë³¸ ë¶„ì„ ê²°ê³¼
     * @returns {object} ê¸°ë³¸ ë¶„ì„
     */
    const getDefaultAnalysis = () => {
        const skills = AppState.get('user.skills');
        const categoryNames = {
            basic: 'ê¸°ì´ˆ ë“œë¡œì‰',
            anatomy: 'ì¸ì²´',
            perspective: 'ì›ê·¼ë²•',
            shading: 'ëª…ì•”',
            color: 'ìƒ‰ì±„',
            composition: 'êµ¬ë„'
        };

        const sorted = Object.entries(skills).sort((a, b) => b[1] - a[1]);
        const strongest = sorted[0];
        const weakest = sorted[sorted.length - 1];

        return {
            strengths: [
                {
                    category: categoryNames[strongest[0]],
                    description: `${categoryNames[strongest[0]]} ì˜ì—­ì—ì„œ ì¢‹ì€ ê¸°ì´ˆë¥¼ ê°€ì§€ê³  ê³„ì‹œë„¤ìš”!`
                }
            ],
            weaknesses: [
                {
                    category: categoryNames[weakest[0]],
                    description: `${categoryNames[weakest[0]]} ì˜ì—­ì˜ ì¶”ê°€ í•™ìŠµì´ ë„ì›€ì´ ë  ê²ƒ ê°™ì•„ìš”.`,
                    tip: 'ë§¤ì¼ 15ë¶„ì”© ê´€ë ¨ ì—°ìŠµì„ í•´ë³´ì„¸ìš”.'
                }
            ],
            overallAdvice: 'ê¾¸ì¤€í•œ ì—°ìŠµì´ ì‹¤ë ¥ í–¥ìƒì˜ í•µì‹¬ì…ë‹ˆë‹¤. ë§¤ì¼ ì¡°ê¸ˆì”©ì´ë¼ë„ ê·¸ë¦¬ëŠ” ìŠµê´€ì„ ë“¤ì´ì„¸ìš”.'
        };
    };

    /**
     * í•™ìŠµ ìë£Œ ì¶”ì²œ ìš”ì²­
     * @param {string} category - ì¹´í…Œê³ ë¦¬
     * @returns {Promise<Array>} ì¶”ì²œ ìë£Œ ëª©ë¡
     */
    const getResourceRecommendations = async (category = 'all') => {
        const skills = AppState.get('user.skills');

        const prompt = `ë‹¹ì‹ ì€ ê·¸ë¦¼ í•™ìŠµ ìë£Œ íë ˆì´í„°ì…ë‹ˆë‹¤. ë‹¤ìŒ ì‚¬ìš©ìì—ê²Œ ë§ëŠ” YouTube ì˜ìƒì´ë‚˜ í•™ìŠµ ìë£Œë¥¼ ì¶”ì²œí•´ì£¼ì„¸ìš”.

ì‹¤ë ¥ ìˆ˜ì¤€:
${JSON.stringify(skills, null, 2)}

${category !== 'all' ? `íŠ¹íˆ "${category}" ì¹´í…Œê³ ë¦¬ì— ì§‘ì¤‘í•´ì£¼ì„¸ìš”.` : ''}

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´ì£¼ì„¸ìš”:
[
  {
    "title": "ìë£Œ ì œëª©",
    "type": "video|article|course",
    "category": "basic|anatomy|perspective|shading|color|composition",
    "description": "ê°„ë‹¨í•œ ì„¤ëª…",
    "url": "https://youtube.com/...",
    "duration": "ì˜ˆìƒ í•™ìŠµ ì‹œê°„"
  }
]

ì£¼ì˜: ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ìœ ëª…í•œ ë¬´ë£Œ í•™ìŠµ ìë£Œë§Œ ì¶”ì²œí•´ì£¼ì„¸ìš”.`;

        try {
            const response = await callGemini(prompt);
            const jsonMatch = response.match(/\[[\s\S]*\]/);
            if (jsonMatch) {
                return JSON.parse(jsonMatch[0]);
            }
            throw new Error('ì¶”ì²œ íŒŒì‹± ì‹¤íŒ¨');
        } catch (error) {
            console.error('ì¶”ì²œ ì‹¤íŒ¨:', error);
            return getDefaultResources();
        }
    };

    /**
     * ê¸°ë³¸ í•™ìŠµ ìë£Œ
     * @returns {Array} ê¸°ë³¸ ìë£Œ ëª©ë¡
     */
    const getDefaultResources = () => [
        {
            title: 'Proko - ì¸ì²´ ë“œë¡œì‰ ê¸°ì´ˆ',
            type: 'video',
            category: 'anatomy',
            description: 'ì¸ì²´ ë¹„ìœ¨ê³¼ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ë°°ìš°ëŠ” ì¸ê¸° ê°•ì¢Œ',
            url: '
